// ========== LOAD NAVBAR.HTML ==========
const navbarPlaceholder = document.getElementById('navbar-placeholder');
if (navbarPlaceholder) {
  fetch('navbar.html')
    .then(res => res.text())
    .then(html => {
      navbarPlaceholder.innerHTML = html;

      // Re-run any scripts inside navbar.html for animations
      const scripts = navbarPlaceholder.querySelectorAll('script');
      scripts.forEach(s => {
        const newScript = document.createElement('script');
        if (s.src) newScript.src = s.src;
        else newScript.textContent = s.textContent;
        document.body.appendChild(newScript);
      });

      // Mobile menu toggle (if any)
      const menuBtn = navbarPlaceholder.querySelector('#menu-btn');
      const mobileMenu = navbarPlaceholder.querySelector('#mobile-menu');
      if(menuBtn && mobileMenu){
        menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
      }
    });
}

// ========== TABS SWITCHING ==========
const tabBtns = document.querySelectorAll('.tab-btn');
const budgetTabs = document.querySelectorAll('.budget-tab');
const perfTabs = document.querySelectorAll('.performance-tab');

tabBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    // Remove active from all
    tabBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    if (btn.dataset.tab === 'performance') {
      budgetTabs.forEach(p => p.classList.add('hidden'));
      perfTabs.forEach(p => p.classList.remove('hidden'));
    } else {
      budgetTabs.forEach(p => p.classList.remove('hidden'));
      perfTabs.forEach(p => p.classList.add('hidden'));
    }
  });
});

// Default: show budget tab
budgetTabs.forEach(p => p.classList.remove('hidden'));
perfTabs.forEach(p => p.classList.add('hidden'));
